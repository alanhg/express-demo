<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="resize.css">
</head>
<body>

<div class="splitter">
    <div id="first"></div>
    <div id="separator"></div>
    <div id="second"></div>
</div>
<script>

  // A function is used for dragging and moving
  function dragElement(element, direction, firstEl, secondEl) {
    let md; // remember mouse down info

    element.onmousedown = onMouseDown;

    function onMouseDown(e) {
      md = {
        e,
        offsetLeft: element.offsetLeft,
        offsetTop: element.offsetTop,
        firstHeight: first.offsetHeight,
        secondHeight: second.offsetHeight
      };

      document.onmousemove = onMouseMove;
      document.onmouseup = () => {
        document.onmousemove = document.onmouseup = null;
      }
    }

    function onMouseMove(e) {
      //console.log("mouse move: " + e.clientX);
      const delta = {
        x: e.clientX - md.e.clientX,
        y: e.clientY - md.e.clientY
      };

      if (direction === "vertical") // Vertical
      {
        // Prevent negative-sized elements
        delta.x = Math.min(Math.max(delta.y, -md.firstHeight),
          md.secondHeight);

        element.style.top = md.offsetTop + delta.x + "px";
        first.style.height = (md.firstHeight + delta.x) + "px";
        second.style.height = (md.secondHeight - delta.x) + "px";
      }
    }
  }


  dragElement(document.getElementById("separator"), "vertical", document.getElementById("first"),
    document.getElementById("second"));
</script>
</body>
</html>
